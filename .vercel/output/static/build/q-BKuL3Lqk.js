import{m as O,N as n,g as d,o as g,x as E,h as b,_ as S,a as R,f as P,E as r,e as p,r as L,_hW as v}from"./q-6LYnCcEd.js";import{_ as s}from"./q-fFn9hMSC.js";import{c as T,u as I}from"./q-zaXe3r0-.js";const y=O(n(()=>s(()=>import("./q-C1otYS0e.js"),[]),"s_CRXCSu0dsuY")),w=O(n(()=>s(()=>import("./q-D9oVD63F.js"),[]),"s_9WjLdaTfQco"));function A(t){const e=d(!1),i=d(!1),_=d(!1),l=d(null),u=d(!1),c=n(()=>s(()=>import("./q-CEDixWk_.js").then(o=>o.c),[]),"s_BNV0B2qDOyY");g(n(()=>s(()=>import("./q-CEDixWk_.js").then(o=>o.b),[]),"s_nLPhBKPFayE",[u]));const a=n(()=>s(()=>import("./q-CEDixWk_.js").then(o=>o.u),[]),"s_IjFcBj9QzQI",[t,_,e,i,c,l]);return E("showpopoverpoly",n(()=>s(()=>import("./q-CEDixWk_.js").then(o=>o.a),[]),"s_5EZpHVKqlRM",[_,e])),{showPopover:n(()=>s(()=>import("./q-CEDixWk_.js").then(o=>o.d),[]),"s_5UO1FLMeNF8",[e,a,i,l]),togglePopover:n(()=>s(()=>import("./q-CEDixWk_.js").then(o=>o.f),[]),"s_9leLTJTn2P0",[e,a,i,l]),hidePopover:n(()=>s(()=>import("./q-CEDixWk_.js").then(o=>o.e),[]),"s_Ke1A5TUiD5A",[e,a,i,l]),initPopover$:a,hasPolyfillLoadedSig:e,isSupportedSig:i}}const D=async({track:t})=>{const[e,i,_]=b();t(()=>e.isListboxOpenSig.value),i.value||(e.isListboxOpenSig.value?_.showPopover():_.hidePopover())},j=Object.freeze(Object.defineProperty({__proto__:null,_hW:v,s_AgaKlJcyJwk:D},Symbol.toStringTag,{value:"Module"})),W=(t,e,i)=>e<t.left||e>t.right||i<t.top||i>t.bottom,V=Object.freeze(Object.defineProperty({__proto__:null,_hW:v,s_54pO0OWvAzc:W},Symbol.toStringTag,{value:"Module"})),k=()=>{const[t]=b();t.value=!1},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:v,s_IoHN51aolks:k},Symbol.toStringTag,{value:"Module"})),M=()=>{const[t]=b();t.isKeyboardFocusSig.value=!1,t.isMouseOverPopupSig.value=!0},H=Object.freeze(Object.defineProperty({__proto__:null,_hW:v,s_WRSiT3s3nls:M},Symbol.toStringTag,{value:"Module"})),Y=t=>{const e=S(T),i=A(e.localId),_={context:e,givenContextRef:e.panelRef},l=I(t.ref,_),u=d(!0),c=R(t,["floating","flip","hover","gutter"]);g(n(()=>s(()=>Promise.resolve().then(()=>j),void 0),"s_AgaKlJcyJwk",[e,u,i]));const a=`${e.localId}-panel`;return g(n(()=>s(()=>Promise.resolve().then(()=>$),void 0),"s_Ti64mbtyWt8",[e,n(()=>s(()=>Promise.resolve().then(()=>K),void 0),"s_Wloo3ugRmfw",[e,n(()=>s(()=>Promise.resolve().then(()=>V),void 0),"s_54pO0OWvAzc"),l])])),g(n(()=>s(()=>Promise.resolve().then(()=>C),void 0),"s_IoHN51aolks",[u])),P(y,{get floating(){return t.floating},get flip(){return t.flip},get hover(){return t.hover},get gutter(){return t.gutter},get"bind:anchor"(){return t["bind:anchor"]??e.controlRef},"bind:panel":l,manual:!0,get id(){return e.localId},children:P(w,{id:a,get"data-open"(){return e.isListboxOpenSig.value?"":void 0},get"data-closed"(){return e.isListboxOpenSig.value?void 0:""},get"data-invalid"(){return e.isInvalidSig.value?"":void 0},role:"listbox",get"aria-expanded"(){return e.isListboxOpenSig.value?"true":"false"},get"aria-multiselectable"(){return e.multiple?"true":void 0},onMouseEnter$:[n(()=>s(()=>Promise.resolve().then(()=>H),void 0),"s_WRSiT3s3nls",[e]),t.onMouseEnter$],...c,children:P(L,null,3,"Yu_0"),[p]:{"data-open":r(o=>o.isListboxOpenSig.value?"":void 0,[e]),"data-closed":r(o=>o.isListboxOpenSig.value?void 0:"",[e]),"data-invalid":r(o=>o.isInvalidSig.value?"":void 0,[e]),role:p,"aria-expanded":r(o=>o.isListboxOpenSig.value?"true":"false",[e]),"aria-multiselectable":r(o=>o.multiple?"true":void 0,[e])}},0,"Yu_1"),[p]:{floating:r(o=>o.floating,[t]),flip:r(o=>o.flip,[t]),hover:r(o=>o.hover,[t]),gutter:r(o=>o.gutter,[t]),"bind:anchor":r((o,x)=>x["bind:anchor"]??o.controlRef,[e,t]),"bind:panel":p,manual:p,id:r(o=>o.localId,[e])}},1,"Yu_2")},z=({track:t,cleanup:e})=>{const[i,_]=b();t(()=>i.isListboxOpenSig.value),i.isListboxOpenSig.value&&window.addEventListener("pointerdown",_),e(()=>{window.removeEventListener("pointerdown",_)})},$=Object.freeze(Object.defineProperty({__proto__:null,_hW:v,s_Ti64mbtyWt8:z},Symbol.toStringTag,{value:"Module"})),q=async t=>{const[e,i,_]=b();if(!e.isListboxOpenSig.value||!_.value||!e.controlRef.value)return;const l=_.value.getBoundingClientRect(),u=e.controlRef.value.getBoundingClientRect(),{clientX:c,clientY:a}=t,m=await i(l,c,a),f=await i(u,c,a);m&&f&&(e.isListboxOpenSig.value=!1)},K=Object.freeze(Object.defineProperty({__proto__:null,_hW:v,s_Wloo3ugRmfw:q},Symbol.toStringTag,{value:"Module"}));export{w as H,v as _hW,y as a,W as s_54pO0OWvAzc,D as s_AgaKlJcyJwk,k as s_IoHN51aolks,Y as s_Krx8oGOr074,z as s_Ti64mbtyWt8,M as s_WRSiT3s3nls,q as s_Wloo3ugRmfw,A as u};
