import{f as h,R as i,o as M,E as D,d as R,q as T,g as A,P as E,C as _,c as I,X as x,_hW as y}from"./q-D42ibeys.js";import{_ as a}from"./q-CF2Nn7YE.js";import{m as j}from"./q-DKIK0O0U.js";const B=async({track:e})=>{const[o]=h();e(()=>o.showSig.value),o.showSig.value?await o.onShow$?.():await o.onClose$?.()},$=Object.freeze(Object.defineProperty({__proto__:null,_hW:y,s_FiRrkdOaxgA:B},Symbol.toStringTag,{value:"Module"})),q=async e=>{const[o,t,l]=h();o.alert===!0||o.closeOnBackdropClick===!1||e.target instanceof HTMLDialogElement&&await t.wasModalBackdropClicked(l.value,e)&&(o.showSig.value=!1)},C=Object.freeze(Object.defineProperty({__proto__:null,_hW:y,s_0c7lCvRNWUg:q},Symbol.toStringTag,{value:"Module"})),L=`@layer qwik-ui {
  /* browsers automatically set an interesting max-width and max-height for dialogs 
    https://twitter.com/t3dotgg/status/1774350919133691936
  */
  dialog:modal {
    max-width: unset;
    max-height: unset;
  }
}
`,F=L,H=Object.freeze(Object.defineProperty({__proto__:null,s_nathh3yzT1U:F},Symbol.toStringTag,{value:"Module"})),V=async e=>{const[o]=h();e.stopPropagation(),await o(e)},W=Object.freeze(Object.defineProperty({__proto__:null,s_AO0A0Ebcgl4:V},Symbol.toStringTag,{value:"Module"})),z=e=>{const[o]=h();e.key==="Escape"&&(o.showSig.value=!1,e.stopPropagation())},K=Object.freeze(Object.defineProperty({__proto__:null,_hW:y,s_S0WXe0PqVZg:z},Symbol.toStringTag,{value:"Module"}));function Q(){const e=i(()=>a(()=>import("./q-CriJbkN4.js").then(n=>n.a),[]),"s_SfQM0lTkhS4");return{trapFocus:i(()=>a(()=>import("./q-CriJbkN4.js").then(n=>n.d),[]),"s_gSlGz1KW23A"),activateFocusTrap:i(()=>a(()=>import("./q-CriJbkN4.js").then(n=>n.u),[]),"s_eJsQXZ5rjCI"),deactivateFocusTrap:i(()=>a(()=>import("./q-CriJbkN4.js").then(n=>n.f),[]),"s_mWHVeHje7ug"),showModal:i(()=>a(()=>import("./q-CriJbkN4.js").then(n=>n.b),[]),"s_vxokZD6vTDM"),closeModal:i(()=>a(()=>import("./q-CriJbkN4.js").then(n=>n.e),[]),"s_SVxNnHPmO4k",[e]),wasModalBackdropClicked:i(()=>a(()=>import("./q-CriJbkN4.js").then(n=>n.c),[]),"s_0jvYp5caMUo"),supportClosingAnimation:e}}const X=e=>{M(i(()=>a(()=>Promise.resolve().then(()=>H),void 0),"s_nathh3yzT1U"));const o=Q(),t=D(j),l=R();T(i(()=>a(()=>Promise.resolve().then(()=>te),void 0),"s_0QewiBqQZ84",[t,o,l])),T(i(()=>a(()=>Promise.resolve().then(()=>$),void 0),"s_FiRrkdOaxgA",[t]));const d=i(()=>a(()=>Promise.resolve().then(()=>C),void 0),"s_0c7lCvRNWUg",[t,o,l]),r=A(n=>{const b=[" ","Enter"];n.target instanceof HTMLDialogElement&&b.includes(n.key)&&n.preventDefault(),n.key==="Escape"&&n.preventDefault()},'e=>{const keys=[" ","Enter"];if(e.target instanceof HTMLDialogElement&&keys.includes(e.key)){e.preventDefault();}if(e.key==="Escape"){e.preventDefault();}}');return E("dialog",{...e,get id(){return`${t.localId}-root`},get"aria-labelledby"(){return`${t.localId}-title`},get"aria-describedby"(){return`${t.localId}-description`},get"data-state"(){return t.showSig.value?"open":"closed"},get"data-open"(){return t.showSig.value&&""},get"data-closed"(){return!t.showSig.value&&""},get role(){return t.alert===!0?"alertdialog":"dialog"},ref:l,children:I(x,null,3,"IX_0"),onKeyDown$:[r,i(()=>a(()=>Promise.resolve().then(()=>K),void 0),"s_S0WXe0PqVZg",[t]),e.onKeyDown$],onClick$:i(()=>a(()=>Promise.resolve().then(()=>W),void 0),"s_AO0A0Ebcgl4",[d])},{id:_(n=>`${n.localId}-root`,[t]),"aria-labelledby":_(n=>`${n.localId}-title`,[t]),"aria-describedby":_(n=>`${n.localId}-description`,[t]),"data-state":_(n=>n.showSig.value?"open":"closed",[t]),"data-open":_(n=>n.showSig.value&&"",[t]),"data-closed":_(n=>!n.showSig.value&&"",[t]),role:_(n=>n.alert===!0?"alertdialog":"dialog",[t])},0,"IX_1")},ie=Object.freeze(Object.defineProperty({__proto__:null,s_MNYKfz1aKrQ:X},Symbol.toStringTag,{value:"Module"}));let S=!1;if(typeof window<"u"){const e={get passive(){S=!0}};window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}const g=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);let u=[],s=new Map,w=!1,O=-1,f,v,c,p;const k=e=>u.some(o=>!!(o.options.allowTouchMove&&o.options.allowTouchMove(e))),m=e=>{const o=e||window.event;return k(o.target)||o.touches.length>1?!0:(o.preventDefault&&o.preventDefault(),!1)},Y=e=>{if(p===void 0){const o=!!e&&e.reserveScrollBarGap===!0,t=window.innerWidth-document.documentElement.getBoundingClientRect().width;if(o&&t>0){const l=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);p=document.body.style.paddingRight,document.body.style.paddingRight=`${l+t}px`}}f===void 0&&(f=document.body.style.overflow,document.body.style.overflow="hidden")},Z=()=>{p!==void 0&&(document.body.style.paddingRight=p,p=void 0),f!==void 0&&(document.body.style.overflow=f,f=void 0)},N=()=>window.requestAnimationFrame(()=>{const e=document.documentElement,o=document.body;if(c===void 0){v={...e.style},c={...o.style};const{scrollY:t,scrollX:l,innerHeight:d}=window;e.style.height="100%",e.style.overflow="hidden",o.style.position="fixed",o.style.top=`${-t}px`,o.style.left=`${-l}px`,o.style.width="100%",o.style.height="auto",o.style.overflow="hidden",setTimeout(()=>window.requestAnimationFrame(()=>{const r=d-window.innerHeight;r&&t>=d&&(o.style.top=-(t+r)+"px")}),300)}}),U=()=>{if(c!==void 0){const e=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10),t=document.documentElement,l=document.body;t.style.height=v?.height||"",t.style.overflow=v?.overflow||"",l.style.position=c.position||"",l.style.top=c.top||"",l.style.left=c.left||"",l.style.width=c.width||"",l.style.height=c.height||"",l.style.overflow=c.overflow||"",window.scrollTo(o,e),c=void 0}},G=e=>e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1,J=(e,o)=>{const t=e.targetTouches[0].clientY-O;return k(e.target)?!1:o&&o.scrollTop===0&&t>0||G(o)&&t<0?m(e):(e.stopPropagation(),!0)},ae=(e,o)=>{if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(s.set(e,s?.get(e)?s?.get(e)+1:1),u.some(l=>l.targetElement===e))return;const t={targetElement:e,options:o||{}};u=[...u,t],g?N():Y(o),g&&(e.ontouchstart=l=>{l.targetTouches.length===1&&(O=l.targetTouches[0].clientY)},e.ontouchmove=l=>{l.targetTouches.length===1&&J(l,e)},w||(document.addEventListener("touchmove",m,S?{passive:!1}:void 0),w=!0))},ee=e=>{if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}s.set(e,s?.get(e)?s?.get(e)-1:0),s?.get(e)===0&&(u=u.filter(o=>o.targetElement!==e),s?.delete(e)),g&&(e.ontouchstart=null,e.ontouchmove=null,w&&u.length===0&&(document.removeEventListener("touchmove",m,S?{passive:!1}:void 0),w=!1)),u.length===0&&(g?U():Z())},oe=async function({track:o,cleanup:t}){const[l,d,r]=h(),P=o(()=>l.showSig.value);if(!r.value)return;const n=await d.trapFocus(r.value);if(P){const b=window.requestAnimationFrame;window.requestAnimationFrame=()=>42,await d.showModal(r.value),window.requestAnimationFrame=b,d.activateFocusTrap(n)}else await d.closeModal(r.value);t(async()=>{await d.deactivateFocusTrap(n),r.value&&ee(r.value)})},te=Object.freeze(Object.defineProperty({__proto__:null,_hW:y,s_0QewiBqQZ84:oe},Symbol.toStringTag,{value:"Module"}));export{y as _hW,ae as d,ee as e,ie as m,oe as s_0QewiBqQZ84,q as s_0c7lCvRNWUg,V as s_AO0A0Ebcgl4,B as s_FiRrkdOaxgA,X as s_MNYKfz1aKrQ,z as s_S0WXe0PqVZg,F as s_nathh3yzT1U};
