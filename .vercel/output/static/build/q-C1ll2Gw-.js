import{h as d,a as k,g as o,C as V,J as M,o as p,N as u,A as w,I as L,e as E,E as N,f as q,r as C,_hW as S}from"./q-6LYnCcEd.js";import{_ as r}from"./q-fFn9hMSC.js";import{S as W}from"./q-DRh9ARp4.js";import{u as H}from"./q-zaXe3r0-.js";import{u as z}from"./q-Dbg0fBS-.js";const J=function({track:s}){const[t,i,l]=d();s(()=>i.value),t.value||l.onOpenChange$?.(i.value)},U=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_Egm4xmN70wA:J},Symbol.toStringTag,{value:"Module"})),ue=e=>{const s=k(e,["_itemsMap","_valuePropIndex","onChange$","onOpenChange$","scrollOptions","loop","multiple","_label","name","required","disabled","invalid"]),t=H(e.ref),i=o(),l=o(),a=o(),v=o(),n=o(),_=e.loop??!1,g=V(),c=M(u(()=>r(()=>Promise.resolve().then(()=>$),void 0),"s_O8O5QDCDBEE",[e])),h=o(new Set([e._valuePropIndex??[]].flat())),y=o(e._valuePropIndex??null),b=o(!1),P=e.scrollOptions??{behavior:"smooth",block:"center",inline:"nearest"},D=o(),O=o(!0),A=o(),f=o(e.disabled??!1),I=o(e.invalid??!1),R=o(!1),T=o(!1);p(u(()=>r(()=>Promise.resolve().then(()=>Q),void 0),"s_WU6qskzTQ0I",[I,e]));const m={itemsMapSig:c,currDisplayValueSig:D,triggerRef:i,popoverRef:l,listboxRef:a,labelRef:v,groupRef:n,highlightedItemRef:A,localId:g,highlightedIndexSig:y,selectedIndexSetSig:h,isKeyboardFocusSig:R,isMouseOverPopupSig:T,isListboxOpenSig:b,scrollOptions:P,loop:_,multiple:e.multiple??!1,name:e.name,required:e.required,isDisabledSig:f,isInvalidSig:I};w(W,m);const x=z();return p(u(()=>r(()=>Promise.resolve().then(()=>G),void 0),"s_GNZAHD3O9no",[m,O,c,e,x])),p(u(()=>r(()=>Promise.resolve().then(()=>ie),void 0),"s_7N2nAAwJHOY",[b,e])),p(u(()=>r(()=>Promise.resolve().then(()=>U),void 0),"s_Egm4xmN70wA",[O,b,e])),p(u(()=>r(()=>Promise.resolve().then(()=>F),void 0),"s_cZ4WDc9kpps",[m,e,h])),p(u(()=>r(()=>Promise.resolve().then(()=>ee),void 0),"s_BZarJRvI8KE",[O])),p(u(()=>r(()=>Promise.resolve().then(()=>oe),void 0),"s_A8NuAdEcM0U",[f,e])),L("div",{role:"group",ref:t,"data-open":m.isListboxOpenSig.value?"":void 0,"data-closed":m.isListboxOpenSig.value?void 0:"",get"data-disabled"(){return f.value?"":void 0},"data-invalid":m.isInvalidSig?.value?"":void 0,"aria-invalid":m.isInvalidSig?.value,"data-qui-select-root":!0,...s,children:q(C,null,3,"0s_0")},{role:E,"data-disabled":N(j=>j.value?"":void 0,[f]),"data-qui-select-root":E},0,"0s_1")},Z=()=>{const[e]=d();return e._itemsMap},$=Object.freeze(Object.defineProperty({__proto__:null,s_O8O5QDCDBEE:Z},Symbol.toStringTag,{value:"Module"})),B=({track:e})=>{const[s,t]=d();s.value=e(()=>t.invalid??!1)},Q=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_WU6qskzTQ0I:B},Symbol.toStringTag,{value:"Module"})),K=async function({track:s}){const[t,i,l,a,v]=d(),n=a["bind:value"];if(n){s(()=>n.value);for(const[_,g]of l.value)n.value?.includes(g.value)?(await v.selectionManager$(_,"add"),i.value&&(t.highlightedIndexSig.value=_)):await v.selectionManager$(_,"remove")}},G=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_GNZAHD3O9no:K},Symbol.toStringTag,{value:"Module"})),Y=async function({track:s}){const[t,i,l]=d(),a=i["bind:value"],v=i["bind:displayValue"];s(()=>l.value);const n=[],_=[];for(const g of t.selectedIndexSetSig.value){const c=t.itemsMapSig.value.get(g);c&&(n.push(c.value),_.push(c.displayValue))}if(i.onChange$&&l.value.size>0&&await i.onChange$(t.multiple?n:n[0]),a&&a.value){const g=JSON.stringify(a.value),c=JSON.stringify(n);g!==c&&(t.multiple?a.value=n:a.value=n[0])}t.currDisplayValueSig.value=_,v&&t.currDisplayValueSig.value&&(v.value=t.multiple?t.currDisplayValueSig.value:t.currDisplayValueSig.value[0])},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_cZ4WDc9kpps:Y},Symbol.toStringTag,{value:"Module"})),X=()=>{const[e]=d();e.value=!1},ee=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_BZarJRvI8KE:X},Symbol.toStringTag,{value:"Module"})),te=({track:e})=>{const[s,t]=d();s.value=e(()=>t.disabled??!1)},oe=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_A8NuAdEcM0U:te},Symbol.toStringTag,{value:"Module"})),se=function({track:s}){const[t,i]=d(),l=i["bind:open"];l&&(s(()=>l.value),t.value=l.value??t.value)},ie=Object.freeze(Object.defineProperty({__proto__:null,_hW:S,s_7N2nAAwJHOY:se},Symbol.toStringTag,{value:"Module"}));export{S as _hW,se as s_7N2nAAwJHOY,te as s_A8NuAdEcM0U,X as s_BZarJRvI8KE,J as s_Egm4xmN70wA,K as s_GNZAHD3O9no,Z as s_O8O5QDCDBEE,B as s_WU6qskzTQ0I,Y as s_cZ4WDc9kpps,ue as s_ylJ72s2ZnR0};
